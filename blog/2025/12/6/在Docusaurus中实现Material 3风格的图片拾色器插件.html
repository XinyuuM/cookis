<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">在Docusaurus中实现Material 3风格的图片拾色器插件 | 曦语</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xinyuu.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://xinyuu.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://xinyuu.cn/blog/2025/12/6/在Docusaurus中实现Material 3风格的图片拾色器插件"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="在Docusaurus中实现Material 3风格的图片拾色器插件 | 曦语"><meta data-rh="true" name="description" content="引言"><meta data-rh="true" property="og:description" content="引言"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-12-06T00:00:00.000Z"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://xinyuu.cn/blog/2025/12/6/在Docusaurus中实现Material 3风格的图片拾色器插件"><link data-rh="true" rel="alternate" href="https://xinyuu.cn/blog/2025/12/6/在Docusaurus中实现Material 3风格的图片拾色器插件" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://xinyuu.cn/blog/2025/12/6/在Docusaurus中实现Material 3风格的图片拾色器插件" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://xinyuu.cn/blog/2025/12/6/在Docusaurus中实现Material 3风格的图片拾色器插件","mainEntityOfPage":"https://xinyuu.cn/blog/2025/12/6/在Docusaurus中实现Material 3风格的图片拾色器插件","url":"https://xinyuu.cn/blog/2025/12/6/在Docusaurus中实现Material 3风格的图片拾色器插件","headline":"在Docusaurus中实现Material 3风格的图片拾色器插件","name":"在Docusaurus中实现Material 3风格的图片拾色器插件","description":"引言","datePublished":"2025-12-06T00:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://xinyuu.cn/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="曦语 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="曦语 Atom Feed">






<link rel="alternate" type="application/rss+xml" href="/datacom/hcia/rss.xml" title="曦语 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/datacom/hcia/atom.xml" title="曦语 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.0d06b23f.css">
<script src="/assets/js/runtime~main.3f00679d.js" defer="defer"></script>
<script src="/assets/js/main.9817737f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/badge-netlify.svg"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Auroral" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Auroral" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">曦语</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2025/12/6/在Docusaurus中实现Material 3风格的图片拾色器插件">在Docusaurus中实现Material 3风格的图片拾色器插件</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/CICF-Expo-2025">「圆桌超会议」：CICF&amp;AGF Expo 2025</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/yagiuda-ant">自制五单元U段八木宇田天线</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/2/3/中国 A 类业余无线电台操作证考点速记">中国 A 类业余无线电台操作证考点速记</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/shouban">「圆桌超会议」：富哥的手办柜</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">在Docusaurus中实现Material 3风格的图片拾色器插件</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-12-06T00:00:00.000Z">2025年12月6日</time> · <!-- -->阅读需 9 分钟</div></header><div id="__blog-post-container" class="markdown"><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="引言">引言<a href="#引言" class="hash-link" aria-label="引言的直接链接" title="引言的直接链接" translate="no">​</a></h2>
<p>在网页设计和开发中，颜色提取是一个常见且实用的功能。今天，我将分享如何在Docusaurus中创建一个功能完整的图片拾色器插件。这个插件不仅完全本地化运行（保护用户隐私），还采用了Google最新的Material Design 3设计语言，并与Docusaurus主题系统完美集成。</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="功能特性">功能特性<a href="#功能特性" class="hash-link" aria-label="功能特性的直接链接" title="功能特性的直接链接" translate="no">​</a></h2>
<p>在开始实现之前，我们先明确这个插件需要具备的核心功能：</p>
<ol>
<li class="">
<p><strong>图片上传</strong>：支持拖放和文件选择两种方式</p>
</li>
<li class="">
<p><strong>本地处理</strong>：所有操作在浏览器中完成，无需上传到服务器</p>
</li>
<li class="">
<p><strong>颜色拾取</strong>：点击图片任意位置获取颜色代码</p>
</li>
<li class="">
<p><strong>颜色管理</strong>：历史记录和颜色复制功能</p>
</li>
<li class="">
<p><strong>响应式设计</strong>：完美适配PC端，兼顾移动端操作</p>
</li>
<li class="">
<p><strong>主题集成</strong>：使用Docusaurus的配色系统</p>
</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="技术架构">技术架构<a href="#技术架构" class="hash-link" aria-label="技术架构的直接链接" title="技术架构的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="核心技术">核心技术<a href="#核心技术" class="hash-link" aria-label="核心技术的直接链接" title="核心技术的直接链接" translate="no">​</a></h3>
<ul>
<li class=""><strong>Canvas API</strong>：用于获取图片像素颜色</li>
<li class=""><strong>File API</strong>：处理图片上传</li>
<li class=""><strong>React Hooks</strong>：状态管理和副作用处理</li>
<li class=""><strong>CSS Variables</strong>：实现主题系统集成</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="项目结构">项目结构<a href="#项目结构" class="hash-link" aria-label="项目结构的直接链接" title="项目结构的直接链接" translate="no">​</a></h3>
<p>text</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── components/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── image-color-picker/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── ImageColorPicker.js      # 主组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── ColorDisplay.js          # 颜色显示组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── UploadZone.js            # 上传区域组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       ├── ColorPalette.js          # 调色板组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── styles.module.css        # 组件样式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── data/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── color-picker-theme.js        # 主题配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── css/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └── material3-vars.css           # Material 3变量</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="核心实现详解">核心实现详解<a href="#核心实现详解" class="hash-link" aria-label="核心实现详解的直接链接" title="核心实现详解的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-颜色拾取原理">1. 颜色拾取原理<a href="#1-颜色拾取原理" class="hash-link" aria-label="1. 颜色拾取原理的直接链接" title="1. 颜色拾取原理的直接链接" translate="no">​</a></h3>
<p>图片颜色拾取的核心是使用Canvas API。以下是关键代码：</p>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 创建Canvas上下文</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const canvas = document.createElement(&#x27;canvas&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const ctx = canvas.getContext(&#x27;2d&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 设置Canvas尺寸与图片一致</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">canvas.width = image.width;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">canvas.height = image.height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 绘制图片到Canvas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctx.drawImage(image, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 获取点击位置的像素数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const x = event.clientX - rect.left;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const y = event.clientY - rect.top;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const pixelData = ctx.getImageData(x, y, 1, 1).data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 将RGB转换为十六进制</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const hexColor = `#${(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (1 &lt;&lt; 24) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (pixelData[0] &lt;&lt; 16) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (pixelData[1] &lt;&lt; 8) + </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pixelData[2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">).toString(16).slice(1)}`;</span><br></span></code></pre></div></div>
<p><strong>工作原理</strong>：</p>
<ol>
<li class="">将用户上传的图片绘制到Canvas元素上</li>
<li class="">获取用户点击位置的坐标</li>
<li class="">使用<code>getImageData()</code>方法获取该位置的RGBA像素数据</li>
<li class="">将RGB值转换为十六进制颜色代码</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-material-3设计系统集成">2. Material 3设计系统集成<a href="#2-material-3设计系统集成" class="hash-link" aria-label="2. Material 3设计系统集成的直接链接" title="2. Material 3设计系统集成的直接链接" translate="no">​</a></h3>
<p>为了让插件与Docusaurus主题完美融合，我们创建了一个Material 3设计系统层：</p>
<p>css</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* 将Docusaurus变量映射到Material 3变量 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:root {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --md-primary: var(--ifm-color-primary);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --md-surface: var(--ifm-background-color);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --md-on-surface: var(--ifm-font-color-base);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* ... 更多映射 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>这种映射方式确保：</p>
<ul>
<li class="">插件自动继承Docusaurus的主题颜色</li>
<li class="">保持一致的视觉体验</li>
<li class="">支持暗色/亮色主题切换</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-响应式canvas处理">3. 响应式Canvas处理<a href="#3-响应式canvas处理" class="hash-link" aria-label="3. 响应式Canvas处理的直接链接" title="3. 响应式Canvas处理的直接链接" translate="no">​</a></h3>
<p>在响应式设计中，图片的显示尺寸可能与原始尺寸不同。我们需要正确处理这种差异：</p>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 计算图片的实际显示尺寸</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const displayWidth = imageRef.current.clientWidth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const displayHeight = imageRef.current.clientHeight;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const naturalWidth = imageRef.current.naturalWidth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const naturalHeight = imageRef.current.naturalHeight;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 计算缩放比例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const scaleX = naturalWidth / displayWidth;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const scaleY = naturalHeight / displayHeight;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 调整点击坐标</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const actualX = Math.floor(x * scaleX);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const actualY = Math.floor(y * scaleY);</span><br></span></code></pre></div></div>
<p>这种处理方式确保：</p>
<ul>
<li class="">不同缩放比例下都能准确获取颜色</li>
<li class="">支持高DPI（Retina）显示</li>
<li class="">保持跨浏览器一致性</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-模块化组件设计">4. 模块化组件设计<a href="#4-模块化组件设计" class="hash-link" aria-label="4. 模块化组件设计的直接链接" title="4. 模块化组件设计的直接链接" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="uploadzone组件">UploadZone组件<a href="#uploadzone组件" class="hash-link" aria-label="UploadZone组件的直接链接" title="UploadZone组件的直接链接" translate="no">​</a></h4>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 支持拖放和文件选择</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const handleDrop = useCallback((e) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  e.preventDefault();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const file = e.dataTransfer.files[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (file &amp;&amp; file.type.startsWith(&#x27;image/&#x27;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    processFile(file);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, []);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 使用FileReader将图片转换为Data URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const reader = new FileReader();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reader.onload = (e) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onImageUpload(e.target.result);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reader.readAsDataURL(file);</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="colordisplay组件">ColorDisplay组件<a href="#colordisplay组件" class="hash-link" aria-label="ColorDisplay组件的直接链接" title="ColorDisplay组件的直接链接" translate="no">​</a></h4>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 复制到剪贴板功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const copyToClipboard = async () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    await navigator.clipboard.writeText(color);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    setCopied(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2秒后恢复按钮状态</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    setTimeout(() =&gt; setCopied(false), 2000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } catch (err) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 降级方案：使用execCommand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const textArea = document.createElement(&#x27;textarea&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textArea.value = color;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    document.body.appendChild(textArea);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    textArea.select();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    document.execCommand(&#x27;copy&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    document.body.removeChild(textArea);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-性能优化">5. 性能优化<a href="#5-性能优化" class="hash-link" aria-label="5. 性能优化的直接链接" title="5. 性能优化的直接链接" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="避免重复渲染">避免重复渲染<a href="#避免重复渲染" class="hash-link" aria-label="避免重复渲染的直接链接" title="避免重复渲染的直接链接" translate="no">​</a></h4>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 使用useMemo缓存计算结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const colorHistory = useMemo(() =&gt; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  selectedColors.slice(0, 8), </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  [selectedColors]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 使用useCallback避免函数重复创建</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const handleColorSelect = useCallback((color) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  setSelectedColor(color);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, []);</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="canvas内存管理">Canvas内存管理<a href="#canvas内存管理" class="hash-link" aria-label="Canvas内存管理的直接链接" title="Canvas内存管理的直接链接" translate="no">​</a></h4>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 清理Canvas资源</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">useEffect(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (canvasRef.current) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      canvasRef.current.width = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      canvasRef.current.height = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, []);</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-错误处理与边界情况">6. 错误处理与边界情况<a href="#6-错误处理与边界情况" class="hash-link" aria-label="6. 错误处理与边界情况的直接链接" title="6. 错误处理与边界情况的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 图片加载失败处理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const handleImageError = () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  setError(&#x27;图片加载失败，请检查文件格式或重新上传&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  setImageSrc(null);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 文件类型验证</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const isValidImageType = (file) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const validTypes = [&#x27;image/jpeg&#x27;, &#x27;image/png&#x27;, &#x27;image/webp&#x27;, &#x27;image/gif&#x27;];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return validTypes.includes(file.type);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 文件大小限制（可选）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const isFileSizeValid = (file) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const maxSize = 10 * 1024 * 1024; // 10MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return file.size &lt;= maxSize;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="响应式设计实现">响应式设计实现<a href="#响应式设计实现" class="hash-link" aria-label="响应式设计实现的直接链接" title="响应式设计实现的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pc端优化">PC端优化<a href="#pc端优化" class="hash-link" aria-label="PC端优化的直接链接" title="PC端优化的直接链接" translate="no">​</a></h3>
<p>css</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* 桌面端布局 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@media (min-width: 769px) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .container {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max-width: 800px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    padding: 2rem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .paletteGrid {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    grid-template-columns: repeat(8, 1fr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .image {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max-height: 400px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="移动端适配">移动端适配<a href="#移动端适配" class="hash-link" aria-label="移动端适配的直接链接" title="移动端适配的直接链接" translate="no">​</a></h3>
<p>css</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* 移动端布局 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@media (max-width: 768px) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .container {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    padding: 1rem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .paletteGrid {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    grid-template-columns: repeat(4, 1fr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gap: 0.5rem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .image {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max-height: 300px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /* 触摸设备优化 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .colorPreview {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    width: 40px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    height: 40px;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .copyButton {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    padding: 0.5rem 1rem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    font-size: 0.75rem;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="触摸设备特殊处理">触摸设备特殊处理<a href="#触摸设备特殊处理" class="hash-link" aria-label="触摸设备特殊处理的直接链接" title="触摸设备特殊处理的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 为移动端添加触摸事件支持</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const handleTouch = useCallback((e) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (!imageSrc) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const touch = e.touches[0];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const mouseEvent = new MouseEvent(&#x27;click&#x27;, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clientX: touch.clientX,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clientY: touch.clientY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  handleImageClick({ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clientX: touch.clientX, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    clientY: touch.clientY,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    currentTarget: e.currentTarget </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, [imageSrc, handleImageClick]);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="可访问性优化">可访问性优化<a href="#可访问性优化" class="hash-link" aria-label="可访问性优化的直接链接" title="可访问性优化的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="aria标签支持">ARIA标签支持<a href="#aria标签支持" class="hash-link" aria-label="ARIA标签支持的直接链接" title="ARIA标签支持的直接链接" translate="no">​</a></h3>
<p>jsx</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;button</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aria-label={`复制颜色值 ${selectedColor}`}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aria-live=&quot;polite&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aria-atomic=&quot;true&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {copied ? &#x27;已复制&#x27; : &#x27;复制&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/button&gt;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="键盘导航">键盘导航<a href="#键盘导航" class="hash-link" aria-label="键盘导航的直接链接" title="键盘导航的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 支持键盘操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const handleKeyDown = (e) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (e.key === &#x27;Enter&#x27; || e.key === &#x27; &#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    e.preventDefault();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    copyToClipboard();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 焦点管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const focusOnColor = (color) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 聚焦到选中的颜色</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const colorElement = document.querySelector(`[data-color=&quot;${color}&quot;]`);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (colorElement) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    colorElement.focus();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="高对比度模式支持">高对比度模式支持<a href="#高对比度模式支持" class="hash-link" aria-label="高对比度模式支持的直接链接" title="高对比度模式支持的直接链接" translate="no">​</a></h3>
<p>css</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* 支持Windows高对比度模式 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@media (forced-colors: active) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .colorPreview {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    border: 1px solid CanvasText;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .copyButton {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    border: 1px solid ButtonText;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="在docusaurus中的使用">在Docusaurus中的使用<a href="#在docusaurus中的使用" class="hash-link" aria-label="在Docusaurus中的使用的直接链接" title="在Docusaurus中的使用的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="安装步骤">安装步骤<a href="#安装步骤" class="hash-link" aria-label="安装步骤的直接链接" title="安装步骤的直接链接" translate="no">​</a></h3>
<ol>
<li class="">将上述文件结构复制到Docusaurus项目的<code>src</code>目录下</li>
<li class="">在<code>docusaurus.config.js</code>中添加样式引用：</li>
</ol>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // ... 其他配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  stylesheets: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      href: &#x27;/src/css/material3-vars.css&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: &#x27;text/css&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="在mdx中使用">在MDX中使用<a href="#在mdx中使用" class="hash-link" aria-label="在MDX中使用的直接链接" title="在MDX中使用的直接链接" translate="no">​</a></h3>
<p>jsx</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import ImageColorPicker from &#x27;@site/src/components/image-color-picker/ImageColorPicker&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 我的设计工具</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;ImageColorPicker /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用这个工具，你可以：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. 上传任何图片</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. 点击图片获取颜色</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. 复制十六进制颜色代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4. 查看历史颜色</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="创建自定义页面">创建自定义页面<a href="#创建自定义页面" class="hash-link" aria-label="创建自定义页面的直接链接" title="创建自定义页面的直接链接" translate="no">​</a></h3>
<p>jsx</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// src/pages/color-picker.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import React from &#x27;react&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import Layout from &#x27;@theme/Layout&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import ImageColorPicker from &#x27;@site/src/components/image-color-picker/ImageColorPicker&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default function ColorPickerPage() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;Layout title=&quot;图片拾色器&quot; description=&quot;从图片中提取颜色的工具&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;div style={{ padding: &#x27;2rem&#x27;, maxWidth: &#x27;900px&#x27;, margin: &#x27;0 auto&#x27; }}&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;h1&gt;图片拾色器&lt;/h1&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;p&gt;上传图片，点击任意位置获取颜色代码。所有操作均在本地完成，保护您的隐私。&lt;/p&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;ImageColorPicker /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &lt;/div&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/Layout&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="扩展可能性">扩展可能性<a href="#扩展可能性" class="hash-link" aria-label="扩展可能性的直接链接" title="扩展可能性的直接链接" translate="no">​</a></h2>
<p>这个基础实现可以进一步扩展：</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-添加更多颜色格式">1. 添加更多颜色格式<a href="#1-添加更多颜色格式" class="hash-link" aria-label="1. 添加更多颜色格式的直接链接" title="1. 添加更多颜色格式的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 支持RGB、HSL等格式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const colorFormats = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hex: `#${((1 &lt;&lt; 24) + (r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).slice(1)}`,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rgb: `rgb(${r}, ${g}, ${b})`,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hsl: convertRGBtoHSL(r, g, b),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rgba: `rgba(${r}, ${g}, ${b}, ${a / 255})`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-添加颜色分析功能">2. 添加颜色分析功能<a href="#2-添加颜色分析功能" class="hash-link" aria-label="2. 添加颜色分析功能的直接链接" title="2. 添加颜色分析功能的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 提取图片的主要颜色</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const extractDominantColors = (imageData, colorCount = 5) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 使用中位切分算法或K-means聚类</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 返回图片的主要颜色</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-添加本地存储">3. 添加本地存储<a href="#3-添加本地存储" class="hash-link" aria-label="3. 添加本地存储的直接链接" title="3. 添加本地存储的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 使用localStorage保存用户历史</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const saveToHistory = (color) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const history = JSON.parse(localStorage.getItem(&#x27;colorHistory&#x27;) || &#x27;[]&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const newHistory = [color, ...history.filter(c =&gt; c !== color)].slice(0, 20);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  localStorage.setItem(&#x27;colorHistory&#x27;, JSON.stringify(newHistory));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return newHistory;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-添加截图功能">4. 添加截图功能<a href="#4-添加截图功能" class="hash-link" aria-label="4. 添加截图功能的直接链接" title="4. 添加截图功能的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 允许用户截取屏幕部分区域</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const captureScreenArea = async () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const stream = await navigator.mediaDevices.getDisplayMedia({ video: true });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 将视频流转换为图片</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 实现截图功能</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } catch (error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.error(&#x27;截图失败:&#x27;, error);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="性能考虑">性能考虑<a href="#性能考虑" class="hash-link" aria-label="性能考虑的直接链接" title="性能考虑的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="大图片处理">大图片处理<a href="#大图片处理" class="hash-link" aria-label="大图片处理的直接链接" title="大图片处理的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 对大图片进行降采样处理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const processLargeImage = (image) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const MAX_SIZE = 2000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let width = image.width;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  let height = image.height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (width &gt; MAX_SIZE || height &gt; MAX_SIZE) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (width &gt; height) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      height = Math.round(height * MAX_SIZE / width);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      width = MAX_SIZE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      width = Math.round(width * MAX_SIZE / height);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      height = MAX_SIZE;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 创建缩小的Canvas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const canvas = document.createElement(&#x27;canvas&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  canvas.width = width;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  canvas.height = height;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  const ctx = canvas.getContext(&#x27;2d&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ctx.drawImage(image, 0, 0, width, height);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return canvas;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="内存泄漏预防">内存泄漏预防<a href="#内存泄漏预防" class="hash-link" aria-label="内存泄漏预防的直接链接" title="内存泄漏预防的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">useEffect(() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 清理Canvas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (canvasRef.current) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      const canvas = canvasRef.current;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      canvas.width = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      canvas.height = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      const ctx = canvas.getContext(&#x27;2d&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ctx.clearRect(0, 0, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 清理图片引用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (imageRef.current) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      imageRef.current.src = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 清理对象URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (objectUrlRef.current) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      URL.revokeObjectURL(objectUrlRef.current);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, []);</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="测试策略">测试策略<a href="#测试策略" class="hash-link" aria-label="测试策略的直接链接" title="测试策略的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="单元测试示例">单元测试示例<a href="#单元测试示例" class="hash-link" aria-label="单元测试示例的直接链接" title="单元测试示例的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 测试颜色转换函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">describe(&#x27;颜色转换&#x27;, () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  test(&#x27;RGB转十六进制&#x27;, () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expect(rgbToHex(255, 0, 0)).toBe(&#x27;#ff0000&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expect(rgbToHex(0, 255, 0)).toBe(&#x27;#00ff00&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expect(rgbToHex(0, 0, 255)).toBe(&#x27;#0000ff&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 测试文件验证</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">describe(&#x27;文件验证&#x27;, () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  test(&#x27;有效的图片文件&#x27;, () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const validFile = new File([&#x27;&#x27;], &#x27;test.jpg&#x27;, { type: &#x27;image/jpeg&#x27; });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expect(isValidImageType(validFile)).toBe(true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  test(&#x27;无效的文件类型&#x27;, () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const invalidFile = new File([&#x27;&#x27;], &#x27;test.txt&#x27;, { type: &#x27;text/plain&#x27; });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    expect(isValidImageType(invalidFile)).toBe(false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="e2e测试">E2E测试<a href="#e2e测试" class="hash-link" aria-label="E2E测试的直接链接" title="E2E测试的直接链接" translate="no">​</a></h3>
<p>javascript</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 使用Cypress进行端到端测试</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">describe(&#x27;图片拾色器&#x27;, () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  it(&#x27;应该能上传图片并拾取颜色&#x27;, () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cy.visit(&#x27;/color-picker&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cy.get(&#x27;input[type=&quot;file&quot;]&#x27;).attachFile(&#x27;test-image.jpg&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cy.get(&#x27;.image&#x27;).click(100, 100);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cy.get(&#x27;.color-hex&#x27;).should(&#x27;be.visible&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cy.get(&#x27;.copy-button&#x27;).click();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cy.contains(&#x27;已复制&#x27;).should(&#x27;be.visible&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="总结">总结<a href="#总结" class="hash-link" aria-label="总结的直接链接" title="总结的直接链接" translate="no">​</a></h2>
<p>通过这个项目，我们实现了一个功能完整、设计现代的Docusaurus图片拾色器插件。关键的技术要点包括：</p>
<ol>
<li class=""><strong>Canvas API的巧妙应用</strong>：实现了精确的颜色拾取功能</li>
<li class=""><strong>Material Design 3的全面应用</strong>：提供了优秀的用户体验</li>
<li class=""><strong>响应式设计</strong>：确保在各种设备上都能正常工作</li>
<li class=""><strong>Docusaurus集成</strong>：无缝融入现有的博客系统</li>
<li class=""><strong>性能优化</strong>：处理了各种边界情况和性能问题</li>
</ol>
<p>这个插件展示了如何将现代Web技术（Canvas、React Hooks、CSS Variables）与设计系统（Material 3）和静态站点生成器（Docusaurus）完美结合，创建一个既美观又实用的工具。</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/CICF-Expo-2025"><div class="pagination-nav__sublabel">较旧一篇</div><div class="pagination-nav__label">「圆桌超会议」：CICF&amp;AGF Expo 2025</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#引言" class="table-of-contents__link toc-highlight">引言</a></li><li><a href="#功能特性" class="table-of-contents__link toc-highlight">功能特性</a></li><li><a href="#技术架构" class="table-of-contents__link toc-highlight">技术架构</a><ul><li><a href="#核心技术" class="table-of-contents__link toc-highlight">核心技术</a></li><li><a href="#项目结构" class="table-of-contents__link toc-highlight">项目结构</a></li></ul></li><li><a href="#核心实现详解" class="table-of-contents__link toc-highlight">核心实现详解</a><ul><li><a href="#1-颜色拾取原理" class="table-of-contents__link toc-highlight">1. 颜色拾取原理</a></li><li><a href="#2-material-3设计系统集成" class="table-of-contents__link toc-highlight">2. Material 3设计系统集成</a></li><li><a href="#3-响应式canvas处理" class="table-of-contents__link toc-highlight">3. 响应式Canvas处理</a></li><li><a href="#4-模块化组件设计" class="table-of-contents__link toc-highlight">4. 模块化组件设计</a></li><li><a href="#5-性能优化" class="table-of-contents__link toc-highlight">5. 性能优化</a></li><li><a href="#6-错误处理与边界情况" class="table-of-contents__link toc-highlight">6. 错误处理与边界情况</a></li></ul></li><li><a href="#响应式设计实现" class="table-of-contents__link toc-highlight">响应式设计实现</a><ul><li><a href="#pc端优化" class="table-of-contents__link toc-highlight">PC端优化</a></li><li><a href="#移动端适配" class="table-of-contents__link toc-highlight">移动端适配</a></li><li><a href="#触摸设备特殊处理" class="table-of-contents__link toc-highlight">触摸设备特殊处理</a></li></ul></li><li><a href="#可访问性优化" class="table-of-contents__link toc-highlight">可访问性优化</a><ul><li><a href="#aria标签支持" class="table-of-contents__link toc-highlight">ARIA标签支持</a></li><li><a href="#键盘导航" class="table-of-contents__link toc-highlight">键盘导航</a></li><li><a href="#高对比度模式支持" class="table-of-contents__link toc-highlight">高对比度模式支持</a></li></ul></li><li><a href="#在docusaurus中的使用" class="table-of-contents__link toc-highlight">在Docusaurus中的使用</a><ul><li><a href="#安装步骤" class="table-of-contents__link toc-highlight">安装步骤</a></li><li><a href="#在mdx中使用" class="table-of-contents__link toc-highlight">在MDX中使用</a></li><li><a href="#创建自定义页面" class="table-of-contents__link toc-highlight">创建自定义页面</a></li></ul></li><li><a href="#扩展可能性" class="table-of-contents__link toc-highlight">扩展可能性</a><ul><li><a href="#1-添加更多颜色格式" class="table-of-contents__link toc-highlight">1. 添加更多颜色格式</a></li><li><a href="#2-添加颜色分析功能" class="table-of-contents__link toc-highlight">2. 添加颜色分析功能</a></li><li><a href="#3-添加本地存储" class="table-of-contents__link toc-highlight">3. 添加本地存储</a></li><li><a href="#4-添加截图功能" class="table-of-contents__link toc-highlight">4. 添加截图功能</a></li></ul></li><li><a href="#性能考虑" class="table-of-contents__link toc-highlight">性能考虑</a><ul><li><a href="#大图片处理" class="table-of-contents__link toc-highlight">大图片处理</a></li><li><a href="#内存泄漏预防" class="table-of-contents__link toc-highlight">内存泄漏预防</a></li></ul></li><li><a href="#测试策略" class="table-of-contents__link toc-highlight">测试策略</a><ul><li><a href="#单元测试示例" class="table-of-contents__link toc-highlight">单元测试示例</a></li><li><a href="#e2e测试" class="table-of-contents__link toc-highlight">E2E测试</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></div></div></div></div></div><footer class="custom-footer-container"><div class="custom-footer-card"><div class="custom-footer-content"><div class="footer-section"><h3 class="footer-section-title">友情链接</h3><ul class="footer-links-list"><li><a href="https://hazx.hmacg.cn/" target="_blank" rel="noopener noreferrer" class="footer-link">Hazx小屋</a></li></ul></div><div class="footer-section"><h3 class="footer-section-title">政策协议</h3><ul class="footer-links-list"><li><a class="footer-link" href="/blackboard/ruler">使用协议</a></li><li><a class="footer-link" href="/blackboard/privacy">隐私声明</a></li><li><a class="footer-link" href="/blackboard/adsense">广告披露声明</a></li></ul></div><div class="footer-section"><h3 class="footer-section-title">法律信息</h3><p class="footer-copyright">©2021-<!-- -->2025<!-- --> <!-- -->Xinyuu<!-- -->. All rights reserved.</p><p class="footer-beian"><a href="https://icp.gov.moe/?keyword=20250737" target="_blank" rel="noopener noreferrer" class="footer-beian-link">萌ICP备20250737号</a></p><p class="footer-tech">Built with❤ <a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer">Docusaurus</a>.</p><img src="/img/badge-netlify.svg" alt="Deploys by Netlify" width="114" height="51"></div></div></div></footer></div>
</body>
</html>