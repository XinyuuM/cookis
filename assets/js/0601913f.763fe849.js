"use strict";(globalThis.webpackChunkclassic=globalThis.webpackChunkclassic||[]).push([[9049],{57610:(e,r,a)=>{a.r(r),a.d(r,{default:()=>A});var o=a(96540),s=a(76182);const l={colors:{primary:"var(--md-primary)",primaryContainer:"var(--md-primary-container)",surface:"var(--md-surface)",surfaceVariant:"var(--md-surface-variant)",surfaceContainer:"var(--md-surface-container)",onSurface:"var(--md-on-surface)",onSurfaceVariant:"var(--md-on-surface-variant)",error:"#ba1a1a",outline:"#79747e"},typography:{titleLarge:{fontSize:"22px",fontWeight:"400",lineHeight:"28px"},bodyMedium:{fontSize:"14px",fontWeight:"400",lineHeight:"20px"},labelMedium:{fontSize:"12px",fontWeight:"500",lineHeight:"16px",letterSpacing:"0.5px"}},elevation:{level1:"var(--md-elevation-1)",level2:"var(--md-elevation-2)",level3:"var(--md-elevation-3)"},shape:{small:"var(--md-shape-small)",medium:"var(--md-shape-medium)",large:"var(--md-shape-large)",extraLarge:"var(--md-shape-extra-large)"},spacing:{1:"var(--md-spacing-1)",2:"var(--md-spacing-2)",3:"var(--md-spacing-3)",4:"var(--md-spacing-4)",6:"var(--md-spacing-6)"},transition:"var(--md-transition-standard)"},t="container_tiQo",n="header_Z5XG",c="title_EGbN",i="subtitle_p8ho",d="uploadZone_ncV6",u="uploadIcon_brFV",h="uploadText_fUuR",m="uploadSubtext_KuLX",p="uploadButton_CLt8",g="fileInput_gt3C",x="buttonLabel_wW68",v="imageSection_jdjq",f="imageWrapper_r5c3",j="image_QP4Q",b="imageOverlay_SD9q",y="imageTip_oywg",C="colorDisplay_tsEW",F="colorPreviewSection_hYoY",S="colorPreview_qXS1",N="colorInfo_rGbY",_="colorHex_DC6X",w="colorLabel_DZ0X",k="copyButton_fSJh",V="colorPalette_neq3",D="paletteHeader__Qx2",R="paletteGrid_mNhU",E="paletteColor_NMXs",L="controls_qQ9P",B="resetButton_wbtm",P="error_oyuO",H="paletteInfo_HPhk";var I=a(74848);function W({onImageUpload:e,theme:r}){const a=(0,o.useCallback)(e=>{e.preventDefault();const r=e.dataTransfer.files[0];r&&r.type.startsWith("image/")&&l(r)},[e]),s=(0,o.useCallback)(e=>{const r=e.target.files[0];r&&l(r)},[e]),l=r=>{const a=new FileReader;a.onload=r=>{e(r.target.result)},a.readAsDataURL(r)};return(0,I.jsxs)("div",{className:d,style:{backgroundColor:r.colors.surfaceContainer,borderColor:r.colors.outline,borderRadius:r.shape.large},onDrop:a,onDragOver:e=>{e.preventDefault()},children:[(0,I.jsxs)("svg",{className:u,style:{color:r.colors.onSurfaceVariant},width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,I.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,I.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,I.jsx)("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),(0,I.jsxs)("div",{className:h,children:[(0,I.jsx)("span",{style:{color:r.colors.onSurface},children:"\u62d6\u653e\u56fe\u7247\u6216\u70b9\u51fb\u4e0a\u4f20"}),(0,I.jsx)("span",{className:m,style:{color:r.colors.onSurfaceVariant},children:"\u652f\u6301 JPG\u3001PNG\u3001WebP \u683c\u5f0f"})]}),(0,I.jsxs)("label",{className:p,children:[(0,I.jsx)("input",{type:"file",accept:"image/*",onChange:s,className:g}),(0,I.jsx)("span",{className:x,style:{backgroundColor:r.colors.primary,color:"white",borderRadius:r.shape.extraLarge},children:"\u9009\u62e9\u56fe\u7247"})]})]})}function z({color:e,theme:r}){const[a,s]=(0,o.useState)(!1);return e?(0,I.jsxs)("div",{className:C,style:{backgroundColor:r.colors.surfaceContainer,borderRadius:r.shape.large,boxShadow:r.elevation.level1},children:[(0,I.jsxs)("div",{className:F,children:[(0,I.jsx)("div",{className:S,style:{backgroundColor:e,borderRadius:r.shape.medium,boxShadow:r.elevation.level1}}),(0,I.jsxs)("div",{className:N,children:[(0,I.jsx)("span",{className:_,style:{color:r.colors.onSurface},children:e.toUpperCase()}),(0,I.jsx)("span",{className:w,style:{color:r.colors.onSurfaceVariant},children:"\u5341\u516d\u8fdb\u5236\u989c\u8272"})]})]}),(0,I.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(e),s(!0),setTimeout(()=>s(!1),2e3)}catch(r){console.error("\u590d\u5236\u5931\u8d25:",r)}},className:k,style:{backgroundColor:a?r.colors.primaryContainer:r.colors.surfaceVariant,color:a?r.colors.onPrimaryContainer:r.colors.onSurface,borderRadius:r.shape.extraLarge,transition:r.transition},children:a?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,I.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}),"\u5df2\u590d\u5236"]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,I.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})}),"\u590d\u5236"]})})]}):null}const T=["#FF5252","#FF4081","#E040FB","#7C4DFF","#536DFE","#448AFF","#40C4FF","#18FFFF","#64FFDA","#69F0AE","#B2FF59","#EEFF41","#FFFF00","#FFD740","#FFAB40","#FF6E40","#FF3D00","#795548","#9E9E9E","#607D8B"];function M({colors:e,onColorSelect:r,theme:a}){const o=[...T,...e||[]].filter((e,r,a)=>a.indexOf(e)===r).slice(0,20);return 0===o.length?null:(0,I.jsxs)("div",{className:V,children:[(0,I.jsx)("div",{className:D,style:{color:a.colors.onSurface},children:(0,I.jsx)("span",{children:"\u8c03\u8272\u677f"})}),(0,I.jsx)("div",{className:R,children:o.map((e,o)=>(0,I.jsx)("button",{className:E,onClick:()=>r(e),style:{backgroundColor:e,borderRadius:a.shape.small,border:`2px solid ${a.colors.surfaceVariant}`},title:e,"aria-label":`\u9009\u62e9\u989c\u8272 ${e}`},`${e}-${o}`))}),(0,I.jsx)("div",{className:H,style:{color:a.colors.onSurfaceVariant},children:"\u70b9\u51fb\u8272\u5757\u9009\u62e9\u989c\u8272\uff0c\u5df2\u81ea\u52a8\u4fdd\u5b58\u6700\u8fd1\u9009\u53d6\u7684\u989c\u8272"})]})}const O="image-color-picker-history";function X(){const[e,r]=(0,o.useState)(null),[s,d]=(0,o.useState)(null),[u,h]=(0,o.useState)([]),[m,p]=(0,o.useState)(null),g=(0,o.useRef)(null),x=(0,o.useRef)(null);(0,o.useEffect)(()=>{const e=localStorage.getItem(O);if(e)try{h(JSON.parse(e))}catch(r){console.error("\u52a0\u8f7d\u989c\u8272\u5386\u53f2\u5931\u8d25:",r)}},[]),(0,o.useEffect)(()=>{Promise.all([a.e(1869),a.e(9959)]).then(a.bind(a,9959))},[]);const C=(e,r,a)=>"#"+((1<<24)+(e<<16)+(r<<8)+a).toString(16).slice(1),F=e=>{h(r=>{const a=[e,...r.filter(r=>r!==e)].slice(0,10);return localStorage.setItem(O,JSON.stringify(a)),a})};return(0,I.jsxs)("div",{className:t,style:{backgroundColor:l.colors.surface,color:l.colors.onSurface},children:[(0,I.jsxs)("div",{className:n,children:[(0,I.jsx)("h3",{className:c,style:l.typography.titleLarge,children:"\u56fe\u7247\u62fe\u8272\u5668"}),(0,I.jsx)("p",{className:i,style:{color:l.colors.onSurfaceVariant},children:"\u4e0a\u4f20\u56fe\u7247\uff0c\u70b9\u51fb\u4efb\u610f\u4f4d\u7f6e\u83b7\u53d6\u989c\u8272\u4ee3\u7801"})]}),e?(0,I.jsxs)("div",{className:v,children:[(0,I.jsxs)("div",{className:f,style:{borderRadius:l.shape.large,overflow:"hidden",boxShadow:l.elevation.level2},onClick:r=>{if(!e||!g.current)return;const a=g.current,o=a.getContext("2d"),s=r.currentTarget.getBoundingClientRect(),l=r.clientX-s.left,t=r.clientY-s.top;a.width=s.width,a.height=s.height;const n=x.current;if(!n)return;o.drawImage(n,0,0,a.width,a.height);const c=o.getImageData(l,t,1,1).data,i=C(c[0],c[1],c[2]);d(i),F(i)},children:[(0,I.jsx)("img",{ref:x,src:e,alt:"\u62fe\u8272\u56fe\u7247",className:j,onError:()=>{p("\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u4e0a\u4f20")},crossOrigin:"anonymous"}),(0,I.jsx)("div",{className:b}),(0,I.jsx)("canvas",{ref:g,style:{display:"none"}})]}),e&&(0,I.jsx)("div",{className:y,style:{color:l.colors.onSurfaceVariant},children:"\u70b9\u51fb\u56fe\u7247\u4efb\u610f\u4f4d\u7f6e\u62fe\u53d6\u989c\u8272"}),m&&(0,I.jsx)("div",{className:P,style:{backgroundColor:l.colors.error+"20",borderColor:l.colors.error,color:l.colors.error,borderRadius:l.shape.medium},children:m})]}):(0,I.jsx)(W,{onImageUpload:e=>{r(e),p(null),d(null)},theme:l}),(0,I.jsxs)("div",{className:L,children:[s&&(0,I.jsx)(z,{color:s,theme:l}),(0,I.jsx)(M,{colors:u,onColorSelect:e=>{d(e),F(e)},theme:l}),e&&(0,I.jsxs)("button",{onClick:()=>{r(null),d(null)},className:B,style:{backgroundColor:l.colors.surfaceVariant,color:l.colors.onSurface,borderRadius:l.shape.extraLarge},children:[(0,I.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,I.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),"\u4e0a\u4f20\u65b0\u56fe\u7247"]})]})]})}const A=function(){return(0,I.jsx)(s.A,{title:"\u66e6\u8bed\u53d6\u8272\u5668",children:(0,I.jsx)("div",{className:"container margin-vert--xl",children:(0,I.jsx)(X,{})})})}}}]);